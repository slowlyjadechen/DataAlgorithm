# python note

## 语言特性

python语言主要有一下三个特点：

- **解释型语言**：代码不用编译，只有在运行时才会通过解释器进行“翻译”，因此*运行比较慢*
- **面向对象编程**：类是所有数据类型的基础，每个标识符与其所引用对象的内存地址隐式关联。如`a=1.3`，标识符a应用了float类的一个值为1.3的实例
- **动态类型语言**：标识符不需要声明数据类型，并且可以在下次赋值时改成其他任何类型的值

## 内置类

- 不可变类：int, float, bool, tuple, frozenset
- <font color='red'>可变类：list, set,dict</font>

> - int(float)直接截取float的整数部分
> - <font color='red'>列表存储的是元素的引用，不是元素自身</font>
> - (17,)是一个 元组，(17)是17
> - {}是一个空字典而不是空集合，因为python字典出现的比集合早
> - <font color='red'>集合的元素只能是不可变类型的实例</font>

## 运算符

- 逻辑运算符：not，and， or

- 相等运算符：is/is not用于判断是否为同一实体，即标识符引用的是同一个内容；==/!=判断引用对象的值是否相等

- 位运算符：~取反，&按位与，|按位或，^异或，<< 左位移， >>右位移

- 序列运算符：

  - s[start:stop:step]，左闭右开
  - s+t：拼接s和t
  - k*s：将s拼接k次
  - 'exam' in 'examplessdfa'，`in`可以用于判断字符串的子串关系

- 集合运算符：

  - 比较运算符比较的是集合的包含关系
  - 集合的并、交、差和对称差：|,&,-,^

- `+=`等拓展运算符。<font color='red'>对于可变类型，需要注意</font>

  ```python
  alpha = [1,2,3]
  beta = alpha
  beta += [4,5]   #alpha = [1,2,3,4,5]
  beta = beta + [6,7] #beta = [1,2,3,4,5,6,7],alpha = [1,2,3,4,5]
  ```

## 函数

- <font color='red'>当函数的参数是一个可变对象时，函数体和对象的交互可能会改变原有的对象</font>
- `ord`和`chr`将字符和对应的编码关联起来

## 输入输出

- `input`返回的是一个字符串
- 打开文件使用`open`，按行读取文件内容readline(),readlines(),for line in fp,
- 写文件时write不会自动在文件末尾添加换行符，需要手动写入

## 异常处理

```python
try:
    something
except [错误名称]:
    # 可以不指定错误，对于所有错误运行
    something
finally:
    # finally一定会执行，常用于运行结束后清理临时变量等
```

## 迭代器和生成器

如果a是一个迭代器，通过`next(a)`可以获得下一个运算，当后续没有元素了，会抛出`StopIteration`异常。

对象obj是可迭代的，则通过`iter(obj)`可以产生一个迭代器

<font color='red'>迭代器通过间接引用回到初始的元素集合维护其状态。</font>例如，构建了一个列表迭代器，迭代器不会存储自己列表的元素，而是保存原始列表地的当前索引，该索引指向下一个元素。因此，如果与那时列表的内容在迭代器构造之后但是在迭代完成之前被修改，迭代器将报告原始列表的更新内容。<font color='red'>例如，使用for循环某个列表，循环体内通过append修改了该列表，则for循环也会遍历新添加的元素。</font>

创建一个迭生成器和定义一个函数类似，只需要将`return`改成`yield`即可，之后可以像调用函数一样使用生成器创建迭代器。生成器的特点是惰性计算——只计算需要的数，并且整个系列的数不需要一次性全部驻留在内存中。

## 其他常用命令

- 代码可以通过反斜杠`\`换行，多行字符串可以通过`'''`  或`"""`起始的字符串实现
- 条件表达式： expr1 if condition else expr2
- <font color='red'>解析语法：[expr for value in iterable if condition]，对应的还有集合解析、生成器解析(使用圆括号)和字典解析</font>
- 默认将使用逗号分割的表达式视为一个元组，可用于打包和解包，因此可以不使用中间变量实现同时分配`j,k=k,j`
- python中函数和类也可以作为参数传递或者有函数返回
- <font color='red'>import导入别的模块时，模块源代码的顶层命令会被执行，因此通常会在代码中添加`if __name__ == '__main__':`，当该脚本是一个被导入的模块时，对应的代码不会被执行</font>
- python 命令行传参https://www.runoob.com/python3/python3-command-line-arguments.html



















